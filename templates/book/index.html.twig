{% extends 'base.html.twig' %}

{% block title %}Book index{% endblock %}

{% block body %}
    <div class="container mx-auto py-8">
        <h1 class="text-4xl font-bold mb-6 text-gray-800">Book index</h1>

        <div class="mb-6">
            <table class="min-w-full bg-white rounded-lg shadow-md overflow-hidden">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Auteur</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Titre</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Résumé</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Date</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody>
                {% for book in books %}
                    <tr class="bg-white hover:bg-gray-50">
                        <td class="border-t px-6 py-4 text-gray-700">{{ book.author.firstName }} {{ book.author.lastName }}</td>
                        <td class="border-t px-6 py-4 text-gray-700">{{ book.title }}</td>
                        <td class="border-t px-6 py-4 text-gray-700">{{ book.resume }}</td>
                        <td class="border-t px-6 py-4 text-gray-700">{{ book.date ? book.date|date('Y-m-d') : '' }}</td>
                        <td class="border-t px-6 py-4 text-gray-700">
                            <a href="{{ path('app_book_show', {'id': book.id}) }}" class="text-gray-600 hover:underline inline-flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.55-4.55a3.018 3.018 0 00-4.55-4.55L10 6m0 0l-4.55 4.55a3.018 3.018 0 004.55 4.55L15 10M10 6v4a3.5 3.5 0 00-3.5 3.5H2m8-4h4M3 12l3.5 3.5"/>
                                </svg>
                                Show
                            </a>
                            <a href="{{ path('app_book_edit', {'id': book.id}) }}" class="text-gray-600 hover:underline ml-4 inline-flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17h2m-1-1v4m-5-4h4a2 2 0 002-2V5m-7 6V5a2 2 0 012-2h4a2 2 0 012 2v6"/>
                                </svg>
                                Edit
                            </a>
                        </td>
                    </tr>
                {% else %}
                    <tr class="bg-white">
                        <td colspan="5" class="border-t px-6 py-4 text-gray-700 text-center">No records found</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="text-right">
            <a href="{{ path('app_book_new') }}" class="inline-block mt-4 px-6 py-3 bg-gray-800 text-white text-sm font-medium rounded-lg shadow hover:bg-yellow-500 transition duration-300">Create new</a>
        </div>
    </div>
{% endblock %}
